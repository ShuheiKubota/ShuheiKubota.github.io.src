---
title: "detour"
date: 2020-05-05T00:00:00+09:00
---

Windows のショートカット先を書き換える CLI アプリ

<!--more-->

## ショートカットの書き換え

### -r でルールを指定

```
detour -r old:new
```

`-r` の後に書き換え前(今)と書き換え後(これから)を `:` で区切って指定します。

大文字小文字は無視されます。

また、`-r old1:new1 -r old2:new2` のように複数指定もできます。

### 複数ファイルの書き換え

コマンドにショートカットのパスを複数渡すことができます。

```
detour -v old:new shorcut1 shorcut2
```

拡張子 lnk は省略可能です。

また、ワイルドカードを使えば、複数のショートカットを簡単に指定できます。

```
detour -v old:new shortcut*
```

上の例では、「shortcut」から始まるショートカットを対象とします。

`**/` でサブフォルダーを再帰的に列挙できます。
下で説明している `-n` オプションを使うと確認が容易です。

### -v で詳細情報

通常はほとんど表示をしません。

`-v` オプションを指定すると、ルール・ショートカットファイルの列挙と書き換えられるファイルを明示します。

### -n でテスト実行

`-n` オプションを指定すると、実際には書き換えを行いません。

上記の `-v` オプションと同時に指定することで、対処を確認するのに使えます。

## 書き換えルールをファイルに保存

テキストファイルに、1行1ルールを書いておくことで、コマンドの指定を感緑化できます。

```sh
# C: => D:
c\::d\:
# detour => shortcut
detour:shortcut
```

`#` から始まる行はコメントです。

最初のルール(2行目)は `C:` から `D:` に書き換えるルールです。
`:` が書き換え前後の目印なので、`\` でエスケープしています。


## 制限:URLショートカットは対象外

今のところ、URLショートカットは対象外です。

## ダウンロード

Windows 版のみの配布です。

[ダウンロード](https://github.com/shu-go/detour/releases)
