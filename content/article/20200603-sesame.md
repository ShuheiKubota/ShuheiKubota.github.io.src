---
title: "SESAME"
date: 2020-06-03T00:00:00+09:00
---

スマートロック SESAME で自動化

<!--more-->

スマートロック SESAME で、お家の鍵を自動化して、Android からワンタッチで開閉できるようにしました。

## SESAME mini

装着については割愛。YouTube でも開封動画やレビューがあるので、そちらが参考になるかと思います。

### 小型ながら、機能多し

鍵のシェア（一時的なものを含む）ができるので、同居人がいる場合にも便利です。
ゲストを迎える・貸し出す場合にも使えそうです。

### 公式が安かった

私が検討してたタイミングでは、Makuake価格COME BACKセールということで、かなりの値引率で販売されていました。（記事執筆中もセール続行中。5000円値引き！）

Amazonでも販売していますが、かなりお安く買えました。

### 発送も早かった

発送はAmazon倉庫からのようで、翌々日には到着しました。

### Bluetooth での開閉はかなりスムーズ

ただし、アプリを開いてから Bluetooth で接続するまでに数秒待たされることもあります。
バックグラウンドで接続を維持しておいてくれると便利なんですが、そもそもそんな事ができるのか…？

### 手ぶら解錠は微妙

試したタイミングでは WiFiアクセスポイントを設定していなかったからなのか、今の所機能することは確認できていません…

### オートロックは便利

物理鍵のみの場合でも施錠を忘れたことはありませんが、放っておいても自動的に施錠してくれるのは安心感があります。

ゴミ捨てとか、少しの外出で気にするのは嫌なので、2分にオートロックするように設定しています。5秒～4分の間で設定できます。

### 開閉の記録も残る

誰が開閉したか確認することもできるので、在宅状況もまあ分かるかな、といったところです。

開閉時に通知を受け取ることもできます。

## WiFiアクセスポイントでより便利に

アプリを立ち上げた後の認識までの時間が気になってしまったので、外から帰ってくる際に制御できるように WiFiアクセスポイントを追加で購入しました。

これもセールで安くなっていました。

### Bluetooth 使わなくても制御可能

アプリから手動で開閉する場合でも、Bluetooth 接続がいらなくなります。
そうは言っても、アプリを立ち上げてからセサミを認識するまに時間がかかることには変わりませんが。

### 出先からも状況確認、開閉が可能

アプリを見ればわかるは当然として、[公式サイトのダッシュボード](https://my.candyhouse.co/#/)からも開閉状況や履歴が確認可能です。
また、開閉の制御も可能です。

### Android からワンタッチ開閉

ホーム画面に開閉のみを行うショートカットを配置したいところですが、公式のアプリではできませんでした。

代わりに [HTTP Request Shortcuts](https://play.google.com/store/apps/details?id=ch.rmy.android.http_shortcuts) を入れて、そちらからAPIを叩いて開閉を行えるようにしました。

#### APIキー

公式のダッシュボードから、APIキーを発行しておきます。
ページを切り替えるとフル表示されなくなりますので、忘れずに控えておきます。

#### デバイスIDを確認する

ダッシュボードで持っているセサミを選択した場合のURLにデバイスIDが含まれています。

`https://my.candyhouse.co/#/distribution/{デバイスID}`

#### HTTP Request Shortcuts を設定

開閉をする場合は、POST でAPIエンドポイント(URI)にアクセスする必要があります。

ここらへんは[APIドキュメント](https://docs.candyhouse.co/#control-sesame)に記載されています。

設定内容はスクリーンショットで紹介しておきます。

{{< figure src="1.png" >}}
{{< figure src="2.png" >}}
{{< figure src="3.png" >}}
{{< figure src="4.png" >}}
{{< figure src="5.png" >}}

